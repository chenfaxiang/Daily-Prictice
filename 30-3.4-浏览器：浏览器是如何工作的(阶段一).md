# 浏览器：一个浏览器是如何工作的？（阶段一）

前端开发者平时与浏览器打交道的时间最多，可浏览器对前端开发者来说更多的是像一个神秘的黑盒子，我们仅仅知道它能做什么，而不知道它是如何做到的。事实上，了解了浏览器工作原理的大致过程，不仅对前端面试中的考点有一点帮助，它还会在实际的工作中进行辅助增强，学习了浏览器的内部工作原理和个中缘由，对于我们做性能优化、排查错误都有很大好处。  
  
实际上，对浏览器的实现者来说，他们做的事情就是把一个 URL 变成屏幕上显示的网页，这个过程是这样的：  
  
1. 浏览器首先使用 HTTP 协议或者 HTTPS 协议，向服务端请求页面
2. 把请求回来的 HTML 代码经过解析，构建成 DOM 树
3. 计算 DOM 树上的 CSS 属性
4. 最后根据 CSS 属性对元素逐个进行渲染，得到内存中的位图
5. 一个可选的步骤是对位图进行合成，这会极大地增加后续绘制的速度
6. 合成之后再绘制到界面上

这里在从 HTTP 请求回来开始，这个过程并非一般想象中的一步做完再做下一步，它其实是一条流水线；从 HTTP 请求回来，就产生了流式的数据，后续的 DOM 树构建、CSS 计算、渲染、合成、绘制，都是尽可能地流式处理前一步的产出：即不需要等到上一步骤完全结束，就开始处理上一步的输出，这样我们在浏览网页的时候才会看到逐步出现的页面。  

## HTTP 协议