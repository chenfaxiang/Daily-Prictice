# JavaScript 对象，你知道全部的对象分类吗

前面的学习过程中学习了 JavaScript 对象的部分基础知识，它只是特定的一部分，并没有覆盖全部的 JavaScript 对象。  
  
比如说，在不管怎样编写代码的过程中，都没法绕开 Array ，实现一个跟原生的数组行为一模一样的对象，这是由于原生数组的底层实现了一个自动随着下表变化的 length 属性。  
  
并且，在浏览器环境中，我们也无法单纯依靠 JavaScript 代码实现 div 对象，只能依靠 document.createElement 来创建；这也说明了 JavaScript 的对象机制并非简单的属性组合 + 原型。  
  
在日常工作中接触到的主要 API，几乎都是下面这些对象提供的，理解这些对象的性质，我们才能真正理解所使用的 API 的一些特性。

## JavaScript 中的对象分类

把对象分成以下几类：

- 宿主对象 (host Objects): 由 JavaScript 宿主环境提供的对象，它们的行为完全由宿主环境决定。
- 内置对象(Built-in Objects): 由 JavaScript 语言提供的对象
  - 固有对象(Intrinsic Objects): 由标准规定，随着 JavaScript 运行时创建而自动创建的对象实例
  - 原生对象(Native Objects): 可以由用户通过 Array、RegExp 等内置构造器或者特殊语法创建的对象
  - 普通对象(Ordinary Objects): 由 {} 语法、Object 构造器或者 class 关键字定义类创建的对象，它能够被原型继承

1. 宿主对象
JavaScript 宿主对象千奇百怪，但是前段最熟悉的无疑就是浏览器环境中的宿主了；在浏览器环境中，我们知道全局对象是 window，window 上又有很多属性；比如 document 等。  
  
实际上，这个全局对象 window 上的属性，一部分来自 JavaScript 语言，一部分来自浏览器环境；在 JavaScript 标准中规定了全局对象属性， w3c 的各种标注中规定了 window 对象的其它属性。而宿主对象也分为固有的和用户可创建的两种，比如 document.createElement 就可以创建一个 dom 对象。

## 内置对象 —— 固有对象

固有对象是由标准规定，随着 JavaScript 运行时创建而自动创建的对象实例。  
  
固有对象在任何 JavaScript 代码执行前就已经被创建出来了，它们通常扮演的类似基础库的角色；前面提到的“类”其实就是固有对象的一种。  
  
ECMA 标准提供了一份固有对象表，里面包含很多固有对象 [ECMA 固有对象链接](https://www.ecma-international.org/ecma-262/9.0/index.html#sec-well-known-intrinsic-objects)；虽然这里已经提供了一份表格，但是它就真的全部完整了吗？(文末：获取全部 JavaScript 固有对象)。

## 内置对象 —— 原生对象

在 JavaScript 中，能够通过语言本身的构造器创建的对象成为原生对象。在 JavaScript 标准中，提供了 30+ 个构造器，大概分为以下几类：
![28-1-原生对象分类](./images/28-1.png)
通过这些构造器，我们可以用 new 运算创建新的对象，所以我们把这些对象成为原生对象。  
几乎所有这些构造器的能力都是无法用纯 JavaScript 代码实现的，它们也无法用 class/extend 语法来继承；这些构造器创建的对象多数使用了私有字段，例如：

- Error:[[ErrorData]]
- Boolean:[[BooleanData]]
- Number:[[NumberData]]
- Date:[[DateValue]]
- RegExp:[[RegExpMatcher]]
- Symbol:[[SymbolData]]
- Map:[[MapData]]

这些字段使得原型继承方法无法正常工作，所以，可以认为所有这些原生对象都是为了特定能力或性能而设计出来的“特权对象”。

## 用对象来模拟函数与构造器：函数对象与构造器对象