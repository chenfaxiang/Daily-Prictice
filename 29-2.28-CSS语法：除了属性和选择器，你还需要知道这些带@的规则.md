# CSS语法：除了属性和选择器，你还需要知道这些带@的规则

CSS 是前端工程师每天必不可少的必修课，那么它的资料又是怎样的呢，说起来真的很糟糕，这是因为 CSS 并没有像 HTML 和 JavaScript 那样的一份标准文档。  
  
[在这里](https://www.w3.org/TR/?title=css) 我们一共能看到98份 CSS 相关的标准，它们各自从不同的角度规定了 CSS 的特性。将 working draft 状态的去掉后仍可以得到 22 份候选标准和 6 份推荐标准。对于这些知识，怎么才能把这些离散的标准组织成易于理解及记忆的形式？  
  
这里，根据 winter 老师的经验，他提供的方法是根据 CSS 语法来进行，任何 CSS 的特性都必须通过一定的语法结构表达出来，所以语法可以帮助我们发现大多数的 CSS 特性，因此了解一波[CSS 语法的最新标准，看这里](https://www.w3.org/TR/css-syntax-3/);这篇文档阅读体验比较差，幸好，winter 老师给我们做了总结抽取(跟着大佬走准没错)，接下来一起看看。  
  
在标准中可以看到，去除空格、HTML 注释等无效信息，**CSS 的顶层样式表由两种规则组成的规则列表构成，一种被称为 at-rule，也就是 at 规则，另一种是 qualified rule，也就是普通规则。**  
  
at-rule 由一个 @ 关键字和后续的一个区块组成，如果没有区块则以分号结束；这些 at-rule 在开发中使用机会远远小于普通的规则，因此大部分内容可能比较陌生。  
  
这些 at 规则正式掌握 CSS 的高级特性所必须的内容；而 qualified rule 则是普通的 CSS 规则，也就是我们熟悉的，由选择器和属性指定构成的规则。  
  
## at 规则

既然已经知道了 CSS 语法的整体结构，那么就可以将所有的规则进行整理；(winter 老师的课程中提供了所有内容，感谢)

- @charset: [https://www.w3.org/TR/css-syntax-3/](https://www.w3.org/TR/css-syntax-3/)
- @import: [https://www.w3.org/TR/css-cascade-4/](https://www.w3.org/TR/css-cascade-4/)
- @media: [https://www.w3.org/TR/css3-conditional/](https://www.w3.org/TR/css3-conditional/)
- @page: [https://www.w3.org/TR/css-page-3/](https://www.w3.org/TR/css-page-3/)
- @counter-style: [https://www.w3.org/TR/css-counter-styles-3/](https://www.w3.org/TR/css-counter-styles-3/)
- @keyframes: [https://www.w3.org/TR/css-animations-1/](https://www.w3.org/TR/css-animations-1/)
- @fontface: [https://www.w3.org/TR/css-fonts-3/](https://www.w3.org/TR/css-fonts-3/)
- @supports: [https://www.w3.org/TR/css3-conditional/](https://www.w3.org/TR/css3-conditional/)
- @namespace: [https://www.w3.org/TR/css-namespaces-3/](https://www.w3.org/TR/css-namespaces-3/)

这里的每一种 @ 规则背后都是一组 CSS 的知识，这里为了简历一个整体的认识，会给所有的 @ 规则提供一些简单的例子。(有些会比较重点的介绍)

## @charset

@charset 用于提示 CSS 文件使用的字符编码方式，它如果被使用，必须出现在文件最前面；此规则只在给出语法解析阶段前使用，并不影响页面上的展示效果。  

``` javascript
@charset "utf-8"
```

## @import

@import 用于引入一个 CSS 文件，除了 @charset 规则不会被引入，@import 可以引入另一个文件的全部内容。

``` javascript
@import "mystyle.css"
@import url("mystyle.css")

@import [ <url> | <string> ]
        [ supports( [ <supports-condition> | <declaration> ] )]?
        <media-query-list>? ;
```

通过代码可以看出，import 还支持 supports 和 media query 形式。

## @media